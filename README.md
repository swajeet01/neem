# Neem Programming Language

A C++ port and extension of
[Lox](https://craftinginterpreters.com/the-lox-language.html)
Language originally created by
[Robert Nystrom](https://twitter.com/intent/user?screen_name=munificentbob)
in his book [Crafting Interpreters](https://craftinginterpreters.com/).

This implementation of Neem is not optimized and sometimes does not follow
best practices, it uses C++11 features and avoids any features introduced in
later C++ standards. This is because __Neem just serves as a prototype for
another language project currently named _Project L1_.__

:warning: Neem is not complete yet and is currently under continuous
development.

## Progress

- [x] Scanning
- [x] Representing code 
- [x] Parsing expressions
- [x] Evaluating expressions
- [ ] Statements and state
- [ ] Control flow
- [ ] Functions
- [ ] Resolving and binding
- [ ] Structs

## Build and run

The main executable `neem` is not complete yet, but can be built and run.

### Getting the source

Download and extract the source or clone this repository.

```
$ git clone https://github.com/swajeet01/neem.git
$ cd neem/
```

### Generating AST classes

AST classes must be generated with the `ast_generator.py` script.
`ast_generator.py` reads description of AST classes from a file,
the file should specify AST classes in this format-

- Each line must describe a single AST class.
- Each line must start with a name of an AST class.
- Class name must be followed by a ':' separated by whitespace.
- Following the ':', a class member list separated from ':' by whitespace must
describe the members of the AST class on same line.
- Each class member must be described with its type following by member name
separated by whitespace.
- Each class member in class member list must be separated by ",\<space\>".
- If a member is a `shared_ptr`, its type must be followed be a `*`.
- File must not contain any trailing newline character ('\n') at the end.

Current implementation only supports expressions, AST classes for expressions
can be generated by following `expr.txt` file.

```
Binary          :   Expr* left, Token op, Expr* right
Grouping        :   Expr* expr
Unary           :   Token op, Expr* right
Ast_literal     :   Literal value
```

Save above contents to file name `expr.txt` or any suitable name, and run
following commands to generate AST classes in `src/Ast`.

```
$ mkdir src/Ast/
$ ./scripts/ast_generator.py Expr <path to your expr.txt> src/Ast
```

### Build and run

Build the `neem` executable with CMake.

```
$ mkdir build/
$ cd build/
$ cmake ..
$ cmake --build .
```

Run and test the `neem` executable, `CTRL+D` to exit.

```
$ ./neem
> (1 + 9) * 4 / 5 + 10 + (-10 * (10 - 5))
-32.000000
> (1 + 9) * 4 / 5 + 10 + (-10 * (10 - 5)) == -32
true
> "Hello" + " " + "World!"
Hello World!
> Bye!
```

In current state, Neem only evaluates expressions involving mathematical
operations and strings. Statements and more language features will be
implemented soon.

## Work in Progress!

Source and documentation of Neem is continuously being updated.

